<% content_for :page_title, "Modifier la configuration" %>

<div class="mb-8">
  <div class="flex items-center space-x-4 mb-4">
    <%= link_to admin_app_config_path, class: "text-gray-600 hover:text-blue-hero" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    <% end %>
    <h1 class="text-4xl md:text-5xl font-bold text-gray-900">
      Modifier la <span class="text-blue-hero">Configuration</span>
    </h1>
  </div>
  <p class="text-xl text-gray-600">
    Mettez à jour les informations de contact et les textes légaux
  </p>
</div>

<%= form_with model: [:admin, @app_config], url: admin_app_config_path, method: :patch, data: { turbo: false }, local: true, class: "space-y-8" do |f| %>
  <!-- Contact Information -->
  <div class="bg-white rounded-super shadow-sm p-6 md:p-8">
    <h2 class="text-2xl font-bold text-gray-900 mb-6">Informations de contact</h2>
    
    <div class="space-y-6">
      <div>
        <%= f.label :contact_email, "Email de contact", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.email_field :contact_email, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent", placeholder: "contact@supercaralive.fr" %>
        <p class="text-sm text-gray-500 mt-1">Cet email sera utilisé pour les liens "Contacter le support" sur le site.</p>
      </div>
      
      <div>
        <%= f.label :contact_phone, "Téléphone de contact", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :contact_phone, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent", placeholder: "+33 1 23 45 67 89" %>
        <p class="text-sm text-gray-500 mt-1">Ce numéro sera affiché avec une icône téléphone sur les pages de contact.</p>
      </div>
      
      <div>
        <%= f.label :address, "Adresse", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_area :address, rows: 3, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent", placeholder: "123 Avenue de l'Automobile\n75000 Paris, France" %>
        <p class="text-sm text-gray-500 mt-1">Adresse complète de l'entreprise.</p>
      </div>
      
      <div>
        <%= f.label :opening_hours, "Horaires", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_area :opening_hours, rows: 4, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent", placeholder: "Lundi - Vendredi : 9h00 - 18h00\nSamedi : 10h00 - 16h00\nDimanche : Fermé" %>
        <p class="text-sm text-gray-500 mt-1">Horaires d'ouverture de l'entreprise.</p>
      </div>
    </div>
  </div>

  <!-- Legal Documents -->
  <div class="space-y-8">
    <!-- Terms of Service -->
    <div class="bg-white rounded-super shadow-sm p-6 md:p-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">Conditions Générales d'Utilisation</h2>
      <%= f.label :terms_of_service, "Contenu des CGU", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.text_area :terms_of_service, rows: 20, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent font-mono text-sm", placeholder: "Saisissez le contenu des Conditions Générales d'Utilisation..." %>
      <p class="text-sm text-gray-500 mt-1">Ce contenu remplacera le texte par défaut sur la page CGU.</p>
    </div>
    
    <!-- Privacy Policy -->
    <div class="bg-white rounded-super shadow-sm p-6 md:p-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">Politique de Confidentialité</h2>
      <%= f.label :privacy_policy, "Contenu de la politique", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.text_area :privacy_policy, rows: 20, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-hero focus:border-transparent font-mono text-sm", placeholder: "Saisissez le contenu de la Politique de Confidentialité..." %>
      <p class="text-sm text-gray-500 mt-1">Ce contenu remplacera le texte par défaut sur la page de confidentialité.</p>
    </div>
  </div>

  <!-- Actions -->
  <div class="flex flex-col sm:flex-row gap-4 justify-end">
    <%= link_to "Annuler", admin_app_config_path, class: "bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium inline-flex items-center justify-center" %>
    <%= f.submit "Enregistrer les modifications", class: "bg-blue-hero hover:bg-blue-dark text-white px-6 py-3 rounded-lg font-bold inline-flex items-center justify-center" %>
  </div>
<% end %>

